{"id":"IZjX","dependencies":[{"name":"/Users/wernerglinka/Documents/Projects/1-SANDBOXES/metalsmith-sandbox/newMS/package.json","includedInParent":true,"mtime":1639436077314},{"name":"/Users/wernerglinka/Documents/Projects/1-SANDBOXES/metalsmith-sandbox/newMS/node_modules/connect-history-api-fallback/package.json","includedInParent":true,"mtime":1637636569336},{"name":"url","loc":{"line":3,"column":18},"parent":"/Users/wernerglinka/Documents/Projects/1-SANDBOXES/metalsmith-sandbox/newMS/node_modules/connect-history-api-fallback/lib/index.js","resolved":"/Users/wernerglinka/Documents/Projects/1-SANDBOXES/metalsmith-sandbox/newMS/node_modules/url/url.js"}],"generated":{"js":"\"use strict\";var e=require(\"url\");function t(e,t,r,n){if(\"string\"==typeof r)return r;if(\"function\"!=typeof r)throw new Error(\"Rewrite rule can only be of type string or function.\");return r({parsedUrl:e,match:t,request:n})}function r(e,t){t.htmlAcceptHeaders=t.htmlAcceptHeaders||[\"text/html\",\"*/*\"];for(var r=0;r<t.htmlAcceptHeaders.length;r++)if(-1!==e.indexOf(t.htmlAcceptHeaders[r]))return!0;return!1}function n(e){return e&&e.logger?e.logger:e&&e.verbose?console.log.bind(console):function(){}}exports=module.exports=function(o){var i=n(o=o||{});return function(n,a,u){var c=n.headers;if(\"GET\"!==n.method)return i(\"Not rewriting\",n.method,n.url,\"because the method is not GET.\"),u();if(!c||\"string\"!=typeof c.accept)return i(\"Not rewriting\",n.method,n.url,\"because the client did not send an HTTP accept header.\"),u();if(0===c.accept.indexOf(\"application/json\"))return i(\"Not rewriting\",n.method,n.url,\"because the client prefers JSON.\"),u();if(!r(c.accept,o))return i(\"Not rewriting\",n.method,n.url,\"because the client does not accept HTML.\"),u();var l,s=e.parse(n.url);o.rewrites=o.rewrites||[];for(var h=0;h<o.rewrites.length;h++){var d=o.rewrites[h],f=s.pathname.match(d.from);if(null!==f)return\"/\"!==(l=t(s,f,d.to,n)).charAt(0)&&i(\"We recommend using an absolute path for the rewrite target.\",\"Received a non-absolute rewrite target\",l,\"for URL\",n.url),i(\"Rewriting\",n.method,n.url,\"to\",l),n.url=l,u()}var p=s.pathname;if(p.lastIndexOf(\".\")>p.lastIndexOf(\"/\")&&!0!==o.disableDotRule)return i(\"Not rewriting\",n.method,n.url,\"because the path includes a dot (.) character.\"),u();l=o.index||\"/index.html\",i(\"Rewriting\",n.method,n.url,\"to\",l),n.url=l,u()}};"},"sourceMaps":{"js":{"mappings":[{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","original":{"line":3,"column":0},"generated":{"line":1,"column":13}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"url","original":{"line":3,"column":4},"generated":{"line":1,"column":17}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"require","original":{"line":3,"column":10},"generated":{"line":1,"column":19}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","original":{"line":3,"column":18},"generated":{"line":1,"column":27}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","original":{"line":89,"column":0},"generated":{"line":1,"column":34}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"evaluateRewriteRule","original":{"line":89,"column":9},"generated":{"line":1,"column":43}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"parsedUrl","original":{"line":89,"column":29},"generated":{"line":1,"column":45}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"match","original":{"line":89,"column":40},"generated":{"line":1,"column":47}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"rule","original":{"line":89,"column":47},"generated":{"line":1,"column":49}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"req","original":{"line":89,"column":53},"generated":{"line":1,"column":51}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","original":{"line":90,"column":6},"generated":{"line":1,"column":54}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","original":{"line":90,"column":22},"generated":{"line":1,"column":57}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"rule","original":{"line":90,"column":13},"generated":{"line":1,"column":74}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"rule","original":{"line":91,"column":11},"generated":{"line":1,"column":76}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"rule","original":{"line":91,"column":11},"generated":{"line":1,"column":83}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","original":{"line":92,"column":9},"generated":{"line":1,"column":85}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","original":{"line":92,"column":29},"generated":{"line":1,"column":88}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"rule","original":{"line":92,"column":20},"generated":{"line":1,"column":107}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","original":{"line":93,"column":10},"generated":{"line":1,"column":109}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","original":{"line":93,"column":10},"generated":{"line":1,"column":115}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"Error","original":{"line":93,"column":14},"generated":{"line":1,"column":119}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","original":{"line":93,"column":20},"generated":{"line":1,"column":125}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"rule","original":{"line":96,"column":9},"generated":{"line":1,"column":181}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"rule","original":{"line":96,"column":9},"generated":{"line":1,"column":188}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","original":{"line":96,"column":14},"generated":{"line":1,"column":190}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"parsedUrl","original":{"line":97,"column":4},"generated":{"line":1,"column":191}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"parsedUrl","original":{"line":97,"column":15},"generated":{"line":1,"column":201}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"match","original":{"line":98,"column":4},"generated":{"line":1,"column":203}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"match","original":{"line":98,"column":11},"generated":{"line":1,"column":209}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"request","original":{"line":99,"column":4},"generated":{"line":1,"column":211}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"req","original":{"line":99,"column":13},"generated":{"line":1,"column":219}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","original":{"line":103,"column":0},"generated":{"line":1,"column":223}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"acceptsHtml","original":{"line":103,"column":9},"generated":{"line":1,"column":232}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"header","original":{"line":103,"column":21},"generated":{"line":1,"column":234}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"options","original":{"line":103,"column":29},"generated":{"line":1,"column":236}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"options","original":{"line":104,"column":2},"generated":{"line":1,"column":239}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"htmlAcceptHeaders","original":{"line":104,"column":10},"generated":{"line":1,"column":241}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"options","original":{"line":104,"column":30},"generated":{"line":1,"column":259}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"htmlAcceptHeaders","original":{"line":104,"column":38},"generated":{"line":1,"column":261}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","original":{"line":104,"column":59},"generated":{"line":1,"column":280}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","original":{"line":104,"column":60},"generated":{"line":1,"column":281}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","original":{"line":104,"column":73},"generated":{"line":1,"column":293}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","original":{"line":105,"column":7},"generated":{"line":1,"column":300}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","original":{"line":105,"column":7},"generated":{"line":1,"column":304}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"i","original":{"line":105,"column":11},"generated":{"line":1,"column":308}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","original":{"line":105,"column":15},"generated":{"line":1,"column":310}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"i","original":{"line":105,"column":18},"generated":{"line":1,"column":312}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"options","original":{"line":105,"column":22},"generated":{"line":1,"column":314}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"htmlAcceptHeaders","original":{"line":105,"column":30},"generated":{"line":1,"column":316}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"length","original":{"line":105,"column":48},"generated":{"line":1,"column":334}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"i","original":{"line":105,"column":56},"generated":{"line":1,"column":341}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"header","original":{"line":106,"column":8},"generated":{"line":1,"column":345}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","original":{"line":106,"column":58},"generated":{"line":1,"column":349}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"header","original":{"line":106,"column":8},"generated":{"line":1,"column":353}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"indexOf","original":{"line":106,"column":15},"generated":{"line":1,"column":355}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"options","original":{"line":106,"column":23},"generated":{"line":1,"column":363}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"htmlAcceptHeaders","original":{"line":106,"column":31},"generated":{"line":1,"column":365}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"i","original":{"line":106,"column":49},"generated":{"line":1,"column":383}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","original":{"line":107,"column":13},"generated":{"line":1,"column":387}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","original":{"line":107,"column":13},"generated":{"line":1,"column":394}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","original":{"line":110,"column":9},"generated":{"line":1,"column":396}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","original":{"line":110,"column":9},"generated":{"line":1,"column":403}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","original":{"line":113,"column":0},"generated":{"line":1,"column":405}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"getLogger","original":{"line":113,"column":9},"generated":{"line":1,"column":414}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"options","original":{"line":113,"column":19},"generated":{"line":1,"column":416}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"options","original":{"line":114,"column":6},"generated":{"line":1,"column":419}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"options","original":{"line":114,"column":6},"generated":{"line":1,"column":426}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"options","original":{"line":114,"column":17},"generated":{"line":1,"column":429}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"logger","original":{"line":114,"column":25},"generated":{"line":1,"column":431}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"options","original":{"line":115,"column":11},"generated":{"line":1,"column":438}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"logger","original":{"line":115,"column":19},"generated":{"line":1,"column":440}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"options","original":{"line":116,"column":13},"generated":{"line":1,"column":447}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"options","original":{"line":116,"column":24},"generated":{"line":1,"column":450}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"verbose","original":{"line":116,"column":32},"generated":{"line":1,"column":452}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"console","original":{"line":117,"column":11},"generated":{"line":1,"column":460}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"log","original":{"line":117,"column":19},"generated":{"line":1,"column":468}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"bind","original":{"line":117,"column":23},"generated":{"line":1,"column":472}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"console","original":{"line":117,"column":28},"generated":{"line":1,"column":477}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","original":{"line":119,"column":9},"generated":{"line":1,"column":486}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"exports","original":{"line":5,"column":0},"generated":{"line":1,"column":499}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"module","original":{"line":5,"column":10},"generated":{"line":1,"column":507}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"exports","original":{"line":5,"column":17},"generated":{"line":1,"column":514}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","original":{"line":5,"column":27},"generated":{"line":1,"column":522}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"options","original":{"line":5,"column":55},"generated":{"line":1,"column":531}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"logger","original":{"line":7,"column":6},"generated":{"line":1,"column":534}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"logger","original":{"line":7,"column":6},"generated":{"line":1,"column":538}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"getLogger","original":{"line":7,"column":15},"generated":{"line":1,"column":540}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"options","original":{"line":6,"column":2},"generated":{"line":1,"column":542}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"options","original":{"line":6,"column":12},"generated":{"line":1,"column":544}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","original":{"line":6,"column":23},"generated":{"line":1,"column":547}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","original":{"line":9,"column":9},"generated":{"line":1,"column":551}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","original":{"line":9,"column":9},"generated":{"line":1,"column":558}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"req","original":{"line":9,"column":18},"generated":{"line":1,"column":567}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"res","original":{"line":9,"column":23},"generated":{"line":1,"column":569}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"next","original":{"line":9,"column":28},"generated":{"line":1,"column":571}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"headers","original":{"line":10,"column":8},"generated":{"line":1,"column":574}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"headers","original":{"line":10,"column":8},"generated":{"line":1,"column":578}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"req","original":{"line":10,"column":18},"generated":{"line":1,"column":580}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"headers","original":{"line":10,"column":22},"generated":{"line":1,"column":582}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"req","original":{"line":11,"column":8},"generated":{"line":1,"column":590}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","original":{"line":11,"column":23},"generated":{"line":1,"column":593}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"req","original":{"line":11,"column":8},"generated":{"line":1,"column":601}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"method","original":{"line":11,"column":12},"generated":{"line":1,"column":603}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"next","original":{"line":18,"column":13},"generated":{"line":1,"column":610}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"logger","original":{"line":12,"column":6},"generated":{"line":1,"column":617}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","original":{"line":13,"column":8},"generated":{"line":1,"column":619}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"req","original":{"line":14,"column":8},"generated":{"line":1,"column":635}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"method","original":{"line":14,"column":12},"generated":{"line":1,"column":637}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"req","original":{"line":15,"column":8},"generated":{"line":1,"column":644}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"url","original":{"line":15,"column":12},"generated":{"line":1,"column":646}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","original":{"line":16,"column":8},"generated":{"line":1,"column":650}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"next","original":{"line":18,"column":13},"generated":{"line":1,"column":684}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","original":{"line":19,"column":11},"generated":{"line":1,"column":688}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"headers","original":{"line":19,"column":16},"generated":{"line":1,"column":692}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","original":{"line":19,"column":53},"generated":{"line":1,"column":695}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"headers","original":{"line":19,"column":34},"generated":{"line":1,"column":712}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"accept","original":{"line":19,"column":42},"generated":{"line":1,"column":714}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"next","original":{"line":26,"column":13},"generated":{"line":1,"column":721}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"logger","original":{"line":20,"column":6},"generated":{"line":1,"column":728}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","original":{"line":21,"column":8},"generated":{"line":1,"column":730}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"req","original":{"line":22,"column":8},"generated":{"line":1,"column":746}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"method","original":{"line":22,"column":12},"generated":{"line":1,"column":748}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"req","original":{"line":23,"column":8},"generated":{"line":1,"column":755}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"url","original":{"line":23,"column":12},"generated":{"line":1,"column":757}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","original":{"line":24,"column":8},"generated":{"line":1,"column":761}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"next","original":{"line":26,"column":13},"generated":{"line":1,"column":819}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","original":{"line":27,"column":11},"generated":{"line":1,"column":823}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","original":{"line":27,"column":62},"generated":{"line":1,"column":826}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"headers","original":{"line":27,"column":15},"generated":{"line":1,"column":830}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"accept","original":{"line":27,"column":23},"generated":{"line":1,"column":832}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"indexOf","original":{"line":27,"column":30},"generated":{"line":1,"column":839}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","original":{"line":27,"column":38},"generated":{"line":1,"column":847}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"next","original":{"line":34,"column":13},"generated":{"line":1,"column":867}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"logger","original":{"line":28,"column":6},"generated":{"line":1,"column":874}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","original":{"line":29,"column":8},"generated":{"line":1,"column":876}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"req","original":{"line":30,"column":8},"generated":{"line":1,"column":892}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"method","original":{"line":30,"column":12},"generated":{"line":1,"column":894}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"req","original":{"line":31,"column":8},"generated":{"line":1,"column":901}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"url","original":{"line":31,"column":12},"generated":{"line":1,"column":903}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","original":{"line":32,"column":8},"generated":{"line":1,"column":907}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"next","original":{"line":34,"column":13},"generated":{"line":1,"column":943}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","original":{"line":35,"column":11},"generated":{"line":1,"column":947}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"acceptsHtml","original":{"line":35,"column":16},"generated":{"line":1,"column":951}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"headers","original":{"line":35,"column":28},"generated":{"line":1,"column":953}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"accept","original":{"line":35,"column":36},"generated":{"line":1,"column":955}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"options","original":{"line":35,"column":44},"generated":{"line":1,"column":962}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"next","original":{"line":42,"column":13},"generated":{"line":1,"column":965}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"logger","original":{"line":36,"column":6},"generated":{"line":1,"column":972}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","original":{"line":37,"column":8},"generated":{"line":1,"column":974}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"req","original":{"line":38,"column":8},"generated":{"line":1,"column":990}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"method","original":{"line":38,"column":12},"generated":{"line":1,"column":992}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"req","original":{"line":39,"column":8},"generated":{"line":1,"column":999}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"url","original":{"line":39,"column":12},"generated":{"line":1,"column":1001}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","original":{"line":40,"column":8},"generated":{"line":1,"column":1005}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"next","original":{"line":42,"column":13},"generated":{"line":1,"column":1049}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"parsedUrl","original":{"line":45,"column":8},"generated":{"line":1,"column":1053}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"rewriteTarget","original":{"line":46,"column":8},"generated":{"line":1,"column":1057}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"parsedUrl","original":{"line":45,"column":8},"generated":{"line":1,"column":1059}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"url","original":{"line":45,"column":20},"generated":{"line":1,"column":1061}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"parse","original":{"line":45,"column":24},"generated":{"line":1,"column":1063}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"req","original":{"line":45,"column":30},"generated":{"line":1,"column":1069}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"url","original":{"line":45,"column":34},"generated":{"line":1,"column":1071}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"options","original":{"line":47,"column":4},"generated":{"line":1,"column":1076}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"rewrites","original":{"line":47,"column":12},"generated":{"line":1,"column":1078}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"options","original":{"line":47,"column":23},"generated":{"line":1,"column":1087}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"rewrites","original":{"line":47,"column":31},"generated":{"line":1,"column":1089}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","original":{"line":47,"column":43},"generated":{"line":1,"column":1099}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","original":{"line":48,"column":9},"generated":{"line":1,"column":1102}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","original":{"line":48,"column":9},"generated":{"line":1,"column":1106}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"i","original":{"line":48,"column":13},"generated":{"line":1,"column":1110}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","original":{"line":48,"column":17},"generated":{"line":1,"column":1112}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"i","original":{"line":48,"column":20},"generated":{"line":1,"column":1114}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"options","original":{"line":48,"column":24},"generated":{"line":1,"column":1116}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"rewrites","original":{"line":48,"column":32},"generated":{"line":1,"column":1118}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"length","original":{"line":48,"column":41},"generated":{"line":1,"column":1127}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"i","original":{"line":48,"column":49},"generated":{"line":1,"column":1134}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","original":{"line":48,"column":54},"generated":{"line":1,"column":1138}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"rewrite","original":{"line":49,"column":10},"generated":{"line":1,"column":1139}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"rewrite","original":{"line":49,"column":10},"generated":{"line":1,"column":1143}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"options","original":{"line":49,"column":20},"generated":{"line":1,"column":1145}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"rewrites","original":{"line":49,"column":28},"generated":{"line":1,"column":1147}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"i","original":{"line":49,"column":37},"generated":{"line":1,"column":1156}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"match","original":{"line":50,"column":10},"generated":{"line":1,"column":1159}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"parsedUrl","original":{"line":50,"column":18},"generated":{"line":1,"column":1161}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"pathname","original":{"line":50,"column":28},"generated":{"line":1,"column":1163}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"match","original":{"line":50,"column":37},"generated":{"line":1,"column":1172}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"rewrite","original":{"line":50,"column":43},"generated":{"line":1,"column":1178}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"from","original":{"line":50,"column":51},"generated":{"line":1,"column":1180}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"match","original":{"line":51,"column":10},"generated":{"line":1,"column":1186}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","original":{"line":51,"column":20},"generated":{"line":1,"column":1189}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"match","original":{"line":51,"column":10},"generated":{"line":1,"column":1196}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"next","original":{"line":66,"column":15},"generated":{"line":1,"column":1198}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","original":{"line":54,"column":39},"generated":{"line":1,"column":1204}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"rewriteTarget","original":{"line":52,"column":8},"generated":{"line":1,"column":1211}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"evaluateRewriteRule","original":{"line":52,"column":24},"generated":{"line":1,"column":1213}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"parsedUrl","original":{"line":52,"column":44},"generated":{"line":1,"column":1215}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"match","original":{"line":52,"column":55},"generated":{"line":1,"column":1217}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"rewrite","original":{"line":52,"column":62},"generated":{"line":1,"column":1219}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"to","original":{"line":52,"column":70},"generated":{"line":1,"column":1221}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"req","original":{"line":52,"column":74},"generated":{"line":1,"column":1224}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"charAt","original":{"line":54,"column":25},"generated":{"line":1,"column":1228}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","original":{"line":54,"column":32},"generated":{"line":1,"column":1235}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"logger","original":{"line":55,"column":10},"generated":{"line":1,"column":1239}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","original":{"line":56,"column":12},"generated":{"line":1,"column":1241}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","original":{"line":57,"column":12},"generated":{"line":1,"column":1303}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"rewriteTarget","original":{"line":58,"column":12},"generated":{"line":1,"column":1344}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","original":{"line":59,"column":12},"generated":{"line":1,"column":1346}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"req","original":{"line":60,"column":12},"generated":{"line":1,"column":1356}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"url","original":{"line":60,"column":16},"generated":{"line":1,"column":1358}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"logger","original":{"line":64,"column":8},"generated":{"line":1,"column":1363}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","original":{"line":64,"column":15},"generated":{"line":1,"column":1365}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"req","original":{"line":64,"column":28},"generated":{"line":1,"column":1377}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"method","original":{"line":64,"column":32},"generated":{"line":1,"column":1379}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"req","original":{"line":64,"column":40},"generated":{"line":1,"column":1386}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"url","original":{"line":64,"column":44},"generated":{"line":1,"column":1388}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","original":{"line":64,"column":49},"generated":{"line":1,"column":1392}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"rewriteTarget","original":{"line":64,"column":55},"generated":{"line":1,"column":1397}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"req","original":{"line":65,"column":8},"generated":{"line":1,"column":1400}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"url","original":{"line":65,"column":12},"generated":{"line":1,"column":1402}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"rewriteTarget","original":{"line":65,"column":18},"generated":{"line":1,"column":1406}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"next","original":{"line":66,"column":15},"generated":{"line":1,"column":1408}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"pathname","original":{"line":70,"column":8},"generated":{"line":1,"column":1412}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"pathname","original":{"line":70,"column":8},"generated":{"line":1,"column":1416}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"parsedUrl","original":{"line":70,"column":19},"generated":{"line":1,"column":1418}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"pathname","original":{"line":70,"column":29},"generated":{"line":1,"column":1420}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"pathname","original":{"line":71,"column":8},"generated":{"line":1,"column":1429}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"pathname","original":{"line":71,"column":8},"generated":{"line":1,"column":1432}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"lastIndexOf","original":{"line":71,"column":17},"generated":{"line":1,"column":1434}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","original":{"line":71,"column":29},"generated":{"line":1,"column":1446}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"pathname","original":{"line":71,"column":36},"generated":{"line":1,"column":1451}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"lastIndexOf","original":{"line":71,"column":45},"generated":{"line":1,"column":1453}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","original":{"line":71,"column":57},"generated":{"line":1,"column":1465}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","original":{"line":72,"column":35},"generated":{"line":1,"column":1472}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"options","original":{"line":72,"column":8},"generated":{"line":1,"column":1476}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"disableDotRule","original":{"line":72,"column":16},"generated":{"line":1,"column":1478}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"next","original":{"line":79,"column":13},"generated":{"line":1,"column":1493}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"logger","original":{"line":73,"column":6},"generated":{"line":1,"column":1500}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","original":{"line":74,"column":8},"generated":{"line":1,"column":1502}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"req","original":{"line":75,"column":8},"generated":{"line":1,"column":1518}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"method","original":{"line":75,"column":12},"generated":{"line":1,"column":1520}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"req","original":{"line":76,"column":8},"generated":{"line":1,"column":1527}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"url","original":{"line":76,"column":12},"generated":{"line":1,"column":1529}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","original":{"line":77,"column":8},"generated":{"line":1,"column":1533}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"next","original":{"line":79,"column":13},"generated":{"line":1,"column":1583}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"rewriteTarget","original":{"line":82,"column":4},"generated":{"line":1,"column":1587}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"options","original":{"line":82,"column":20},"generated":{"line":1,"column":1589}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"index","original":{"line":82,"column":28},"generated":{"line":1,"column":1591}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","original":{"line":82,"column":37},"generated":{"line":1,"column":1598}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"logger","original":{"line":83,"column":4},"generated":{"line":1,"column":1612}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","original":{"line":83,"column":11},"generated":{"line":1,"column":1614}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"req","original":{"line":83,"column":24},"generated":{"line":1,"column":1626}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"method","original":{"line":83,"column":28},"generated":{"line":1,"column":1628}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"req","original":{"line":83,"column":36},"generated":{"line":1,"column":1635}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"url","original":{"line":83,"column":40},"generated":{"line":1,"column":1637}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","original":{"line":83,"column":45},"generated":{"line":1,"column":1641}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"rewriteTarget","original":{"line":83,"column":51},"generated":{"line":1,"column":1646}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"req","original":{"line":84,"column":4},"generated":{"line":1,"column":1649}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"url","original":{"line":84,"column":8},"generated":{"line":1,"column":1651}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"rewriteTarget","original":{"line":84,"column":14},"generated":{"line":1,"column":1655}},{"source":"../../node_modules/connect-history-api-fallback/lib/index.js","name":"next","original":{"line":85,"column":4},"generated":{"line":1,"column":1657}}],"sources":{"../../node_modules/connect-history-api-fallback/lib/index.js":"'use strict';\n\nvar url = require('url');\n\nexports = module.exports = function historyApiFallback(options) {\n  options = options || {};\n  var logger = getLogger(options);\n\n  return function(req, res, next) {\n    var headers = req.headers;\n    if (req.method !== 'GET') {\n      logger(\n        'Not rewriting',\n        req.method,\n        req.url,\n        'because the method is not GET.'\n      );\n      return next();\n    } else if (!headers || typeof headers.accept !== 'string') {\n      logger(\n        'Not rewriting',\n        req.method,\n        req.url,\n        'because the client did not send an HTTP accept header.'\n      );\n      return next();\n    } else if (headers.accept.indexOf('application/json') === 0) {\n      logger(\n        'Not rewriting',\n        req.method,\n        req.url,\n        'because the client prefers JSON.'\n      );\n      return next();\n    } else if (!acceptsHtml(headers.accept, options)) {\n      logger(\n        'Not rewriting',\n        req.method,\n        req.url,\n        'because the client does not accept HTML.'\n      );\n      return next();\n    }\n\n    var parsedUrl = url.parse(req.url);\n    var rewriteTarget;\n    options.rewrites = options.rewrites || [];\n    for (var i = 0; i < options.rewrites.length; i++) {\n      var rewrite = options.rewrites[i];\n      var match = parsedUrl.pathname.match(rewrite.from);\n      if (match !== null) {\n        rewriteTarget = evaluateRewriteRule(parsedUrl, match, rewrite.to, req);\n\n        if(rewriteTarget.charAt(0) !== '/') {\n          logger(\n            'We recommend using an absolute path for the rewrite target.',\n            'Received a non-absolute rewrite target',\n            rewriteTarget,\n            'for URL',\n            req.url\n          );\n        }\n\n        logger('Rewriting', req.method, req.url, 'to', rewriteTarget);\n        req.url = rewriteTarget;\n        return next();\n      }\n    }\n\n    var pathname = parsedUrl.pathname;\n    if (pathname.lastIndexOf('.') > pathname.lastIndexOf('/') &&\n        options.disableDotRule !== true) {\n      logger(\n        'Not rewriting',\n        req.method,\n        req.url,\n        'because the path includes a dot (.) character.'\n      );\n      return next();\n    }\n\n    rewriteTarget = options.index || '/index.html';\n    logger('Rewriting', req.method, req.url, 'to', rewriteTarget);\n    req.url = rewriteTarget;\n    next();\n  };\n};\n\nfunction evaluateRewriteRule(parsedUrl, match, rule, req) {\n  if (typeof rule === 'string') {\n    return rule;\n  } else if (typeof rule !== 'function') {\n    throw new Error('Rewrite rule can only be of type string or function.');\n  }\n\n  return rule({\n    parsedUrl: parsedUrl,\n    match: match,\n    request: req\n  });\n}\n\nfunction acceptsHtml(header, options) {\n  options.htmlAcceptHeaders = options.htmlAcceptHeaders || ['text/html', '*/*'];\n  for (var i = 0; i < options.htmlAcceptHeaders.length; i++) {\n    if (header.indexOf(options.htmlAcceptHeaders[i]) !== -1) {\n      return true;\n    }\n  }\n  return false;\n}\n\nfunction getLogger(options) {\n  if (options && options.logger) {\n    return options.logger;\n  } else if (options && options.verbose) {\n    return console.log.bind(console);\n  }\n  return function(){};\n}\n"},"lineCount":null}},"error":null,"hash":"250edd108dbb2632b58ca593ebb9d306","cacheData":{"env":{}}}