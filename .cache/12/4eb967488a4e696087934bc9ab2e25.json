{"id":"MTGV","dependencies":[{"name":"/Users/wernerglinka/Documents/Projects/1-SANDBOXES/metalsmith-sandbox/newMS/package.json","includedInParent":true,"mtime":1638736617616}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var e=function(e,o){var a,i,d=e(\".js-modal-video\"),n=function(){var o=(i=e(\"#video-overlay\")).find(\".icon-close\");d.each(function(){var o=e(this),d=o.data(\"videoid\");o.on(\"click\",function(o){o.preventDefault(),o.stopPropagation(),i.fadeIn(400),e(\"body\").addClass(\"modalActive\"),d===a.getVideoEmbedCode()?a.playVideo():a.loadVideoById({videoId:d}),a.setVolume(50)})}),o.on(\"click\",function(){var o=a.getVolume(),d=setInterval(function(){o<=0&&(a.pauseVideo(),clearInterval(d)),o-=5,a.setVolume(o)},100);i.fadeOut(),e(\"body\").removeClass(\"modalActive\")})},t=function(o){switch(i=e(\"#video-overlay\"),o.data){case YT.PlayerState.PAUSED:case YT.PlayerState.PLAYING:break;case YT.PlayerState.ENDED:i.fadeOut();break;case YT.PlayerState.CUED:}};return{init:function(){e(\".js-video-trigger\")&&window.videoAPIReady.then(function(){e(\"body\").append('\\n        <div id=\"video-overlay\" class=\"js-video-overlay\">\\n            <span class=\"icon icon-close\">CLOSE</span>\\n            <div class=\"responsive-wrapper\">\\n                <div class=\"video-container\">\\n                    <div id=\"ytvideo\"></div>\\n                </div>\\n            </div>\\n        </div>\\n      '),i=e(\"#video-overlay\");var o=d.eq(0).data(\"videoid\"),r={autoplay:0,controls:0,enablejsapi:1,wmode:\"opaque\",origin:window.location.origin,rel:0};a=new YT.Player(\"ytvideo\",{videoId:o,playerVars:r,events:{onReady:n,onStateChange:t}})})}}}(jQuery),o=e;exports.default=o;"},"sourceMaps":{"js":{"mappings":[{"source":"modules/modal-video.js","name":"modalVideo","original":{"line":162,"column":15},"generated":{"line":1,"column":0}},{"source":"modules/modal-video.js","name":"modalVideo","original":{"line":162,"column":15},"generated":{"line":1,"column":13}},{"source":"modules/modal-video.js","name":"modalVideo","original":{"line":162,"column":15},"generated":{"line":1,"column":20}},{"source":"modules/modal-video.js","name":"modalVideo","original":{"line":162,"column":15},"generated":{"line":1,"column":35}},{"source":"modules/modal-video.js","name":"modalVideo","original":{"line":162,"column":15},"generated":{"line":1,"column":43}},{"source":"modules/modal-video.js","name":"modalVideo","original":{"line":162,"column":15},"generated":{"line":1,"column":56}},{"source":"modules/modal-video.js","name":"modalVideo","original":{"line":162,"column":15},"generated":{"line":1,"column":57}},{"source":"modules/modal-video.js","name":"modalVideo","original":{"line":162,"column":15},"generated":{"line":1,"column":64}},{"source":"modules/modal-video.js","name":"modalVideo","original":{"line":162,"column":15},"generated":{"line":1,"column":68}},{"source":"modules/modal-video.js","name":"modalVideo","original":{"line":162,"column":15},"generated":{"line":1,"column":76}},{"source":"modules/modal-video.js","name":"modalVideo","original":{"line":162,"column":15},"generated":{"line":1,"column":89}},{"source":"modules/modal-video.js","original":{"line":15,"column":0},"generated":{"line":1,"column":91}},{"source":"modules/modal-video.js","name":"modalVideo","original":{"line":15,"column":6},"generated":{"line":1,"column":95}},{"source":"modules/modal-video.js","original":{"line":15,"column":20},"generated":{"line":1,"column":97}},{"source":"modules/modal-video.js","name":"$","original":{"line":15,"column":29},"generated":{"line":1,"column":106}},{"source":"modules/modal-video.js","name":"undefined","original":{"line":15,"column":32},"generated":{"line":1,"column":108}},{"source":"modules/modal-video.js","name":"modalVideoTriggers","original":{"line":16,"column":8},"generated":{"line":1,"column":111}},{"source":"modules/modal-video.js","name":"player","original":{"line":17,"column":6},"generated":{"line":1,"column":115}},{"source":"modules/modal-video.js","name":"videoOverlay","original":{"line":18,"column":6},"generated":{"line":1,"column":117}},{"source":"modules/modal-video.js","name":"modalVideoTriggers","original":{"line":16,"column":8},"generated":{"line":1,"column":119}},{"source":"modules/modal-video.js","name":"$","original":{"line":16,"column":29},"generated":{"line":1,"column":121}},{"source":"modules/modal-video.js","original":{"line":16,"column":31},"generated":{"line":1,"column":123}},{"source":"modules/modal-video.js","name":"initVideoLinks","original":{"line":21,"column":8},"generated":{"line":1,"column":142}},{"source":"modules/modal-video.js","original":{"line":21,"column":25},"generated":{"line":1,"column":144}},{"source":"modules/modal-video.js","name":"closeVideoOverlay","original":{"line":23,"column":10},"generated":{"line":1,"column":155}},{"source":"modules/modal-video.js","name":"closeVideoOverlay","original":{"line":23,"column":10},"generated":{"line":1,"column":159}},{"source":"modules/modal-video.js","name":"videoOverlay","original":{"line":22,"column":4},"generated":{"line":1,"column":162}},{"source":"modules/modal-video.js","name":"$","original":{"line":22,"column":19},"generated":{"line":1,"column":164}},{"source":"modules/modal-video.js","original":{"line":22,"column":21},"generated":{"line":1,"column":166}},{"source":"modules/modal-video.js","name":"find","original":{"line":23,"column":43},"generated":{"line":1,"column":185}},{"source":"modules/modal-video.js","original":{"line":23,"column":48},"generated":{"line":1,"column":190}},{"source":"modules/modal-video.js","name":"modalVideoTriggers","original":{"line":25,"column":4},"generated":{"line":1,"column":205}},{"source":"modules/modal-video.js","name":"each","original":{"line":25,"column":23},"generated":{"line":1,"column":207}},{"source":"modules/modal-video.js","original":{"line":25,"column":28},"generated":{"line":1,"column":212}},{"source":"modules/modal-video.js","name":"thisTrigger","original":{"line":26,"column":12},"generated":{"line":1,"column":223}},{"source":"modules/modal-video.js","name":"thisTrigger","original":{"line":26,"column":12},"generated":{"line":1,"column":227}},{"source":"modules/modal-video.js","name":"$","original":{"line":26,"column":26},"generated":{"line":1,"column":229}},{"source":"modules/modal-video.js","original":{"line":26,"column":28},"generated":{"line":1,"column":231}},{"source":"modules/modal-video.js","name":"requestedVideoID","original":{"line":27,"column":12},"generated":{"line":1,"column":237}},{"source":"modules/modal-video.js","name":"thisTrigger","original":{"line":27,"column":31},"generated":{"line":1,"column":239}},{"source":"modules/modal-video.js","name":"data","original":{"line":27,"column":43},"generated":{"line":1,"column":241}},{"source":"modules/modal-video.js","original":{"line":27,"column":48},"generated":{"line":1,"column":246}},{"source":"modules/modal-video.js","name":"thisTrigger","original":{"line":37,"column":6},"generated":{"line":1,"column":257}},{"source":"modules/modal-video.js","name":"on","original":{"line":37,"column":18},"generated":{"line":1,"column":259}},{"source":"modules/modal-video.js","original":{"line":37,"column":21},"generated":{"line":1,"column":262}},{"source":"modules/modal-video.js","original":{"line":37,"column":30},"generated":{"line":1,"column":270}},{"source":"modules/modal-video.js","name":"e","original":{"line":37,"column":30},"generated":{"line":1,"column":279}},{"source":"modules/modal-video.js","name":"e","original":{"line":38,"column":8},"generated":{"line":1,"column":282}},{"source":"modules/modal-video.js","name":"preventDefault","original":{"line":38,"column":10},"generated":{"line":1,"column":284}},{"source":"modules/modal-video.js","name":"e","original":{"line":39,"column":8},"generated":{"line":1,"column":301}},{"source":"modules/modal-video.js","name":"stopPropagation","original":{"line":39,"column":10},"generated":{"line":1,"column":303}},{"source":"modules/modal-video.js","name":"videoOverlay","original":{"line":40,"column":8},"generated":{"line":1,"column":321}},{"source":"modules/modal-video.js","name":"fadeIn","original":{"line":40,"column":21},"generated":{"line":1,"column":323}},{"source":"modules/modal-video.js","original":{"line":40,"column":28},"generated":{"line":1,"column":330}},{"source":"modules/modal-video.js","name":"$","original":{"line":41,"column":8},"generated":{"line":1,"column":335}},{"source":"modules/modal-video.js","original":{"line":41,"column":10},"generated":{"line":1,"column":337}},{"source":"modules/modal-video.js","name":"addClass","original":{"line":41,"column":18},"generated":{"line":1,"column":345}},{"source":"modules/modal-video.js","original":{"line":41,"column":27},"generated":{"line":1,"column":354}},{"source":"modules/modal-video.js","name":"requestedVideoID","original":{"line":46,"column":12},"generated":{"line":1,"column":369}},{"source":"modules/modal-video.js","name":"player","original":{"line":46,"column":33},"generated":{"line":1,"column":373}},{"source":"modules/modal-video.js","name":"getVideoEmbedCode","original":{"line":46,"column":40},"generated":{"line":1,"column":375}},{"source":"modules/modal-video.js","name":"player","original":{"line":47,"column":10},"generated":{"line":1,"column":395}},{"source":"modules/modal-video.js","name":"playVideo","original":{"line":47,"column":17},"generated":{"line":1,"column":397}},{"source":"modules/modal-video.js","name":"player","original":{"line":49,"column":10},"generated":{"line":1,"column":409}},{"source":"modules/modal-video.js","name":"loadVideoById","original":{"line":49,"column":17},"generated":{"line":1,"column":411}},{"source":"modules/modal-video.js","original":{"line":49,"column":31},"generated":{"line":1,"column":425}},{"source":"modules/modal-video.js","name":"videoId","original":{"line":50,"column":12},"generated":{"line":1,"column":426}},{"source":"modules/modal-video.js","name":"requestedVideoID","original":{"line":50,"column":21},"generated":{"line":1,"column":434}},{"source":"modules/modal-video.js","name":"player","original":{"line":56,"column":8},"generated":{"line":1,"column":438}},{"source":"modules/modal-video.js","name":"setVolume","original":{"line":56,"column":15},"generated":{"line":1,"column":440}},{"source":"modules/modal-video.js","original":{"line":56,"column":25},"generated":{"line":1,"column":450}},{"source":"modules/modal-video.js","name":"closeVideoOverlay","original":{"line":60,"column":4},"generated":{"line":1,"column":458}},{"source":"modules/modal-video.js","name":"on","original":{"line":60,"column":22},"generated":{"line":1,"column":460}},{"source":"modules/modal-video.js","original":{"line":60,"column":25},"generated":{"line":1,"column":463}},{"source":"modules/modal-video.js","original":{"line":60,"column":34},"generated":{"line":1,"column":471}},{"source":"modules/modal-video.js","name":"currentVolume","original":{"line":62,"column":10},"generated":{"line":1,"column":482}},{"source":"modules/modal-video.js","name":"currentVolume","original":{"line":62,"column":10},"generated":{"line":1,"column":486}},{"source":"modules/modal-video.js","name":"player","original":{"line":62,"column":26},"generated":{"line":1,"column":488}},{"source":"modules/modal-video.js","name":"getVolume","original":{"line":62,"column":33},"generated":{"line":1,"column":490}},{"source":"modules/modal-video.js","name":"fadeout","original":{"line":63,"column":12},"generated":{"line":1,"column":502}},{"source":"modules/modal-video.js","name":"setInterval","original":{"line":63,"column":22},"generated":{"line":1,"column":504}},{"source":"modules/modal-video.js","original":{"line":63,"column":34},"generated":{"line":1,"column":516}},{"source":"modules/modal-video.js","name":"currentVolume","original":{"line":64,"column":12},"generated":{"line":1,"column":527}},{"source":"modules/modal-video.js","original":{"line":64,"column":29},"generated":{"line":1,"column":530}},{"source":"modules/modal-video.js","name":"player","original":{"line":67,"column":10},"generated":{"line":1,"column":534}},{"source":"modules/modal-video.js","name":"pauseVideo","original":{"line":67,"column":17},"generated":{"line":1,"column":536}},{"source":"modules/modal-video.js","name":"clearInterval","original":{"line":68,"column":10},"generated":{"line":1,"column":549}},{"source":"modules/modal-video.js","name":"fadeout","original":{"line":68,"column":24},"generated":{"line":1,"column":563}},{"source":"modules/modal-video.js","name":"currentVolume","original":{"line":70,"column":8},"generated":{"line":1,"column":567}},{"source":"modules/modal-video.js","original":{"line":70,"column":25},"generated":{"line":1,"column":570}},{"source":"modules/modal-video.js","name":"player","original":{"line":71,"column":8},"generated":{"line":1,"column":572}},{"source":"modules/modal-video.js","name":"setVolume","original":{"line":71,"column":15},"generated":{"line":1,"column":574}},{"source":"modules/modal-video.js","name":"currentVolume","original":{"line":71,"column":25},"generated":{"line":1,"column":584}},{"source":"modules/modal-video.js","original":{"line":72,"column":9},"generated":{"line":1,"column":588}},{"source":"modules/modal-video.js","name":"videoOverlay","original":{"line":73,"column":6},"generated":{"line":1,"column":593}},{"source":"modules/modal-video.js","name":"fadeOut","original":{"line":73,"column":19},"generated":{"line":1,"column":595}},{"source":"modules/modal-video.js","name":"$","original":{"line":74,"column":6},"generated":{"line":1,"column":605}},{"source":"modules/modal-video.js","original":{"line":74,"column":8},"generated":{"line":1,"column":607}},{"source":"modules/modal-video.js","name":"removeClass","original":{"line":74,"column":16},"generated":{"line":1,"column":615}},{"source":"modules/modal-video.js","original":{"line":74,"column":28},"generated":{"line":1,"column":627}},{"source":"modules/modal-video.js","name":"onPlayerStateChange","original":{"line":78,"column":8},"generated":{"line":1,"column":645}},{"source":"modules/modal-video.js","original":{"line":78,"column":30},"generated":{"line":1,"column":647}},{"source":"modules/modal-video.js","name":"event","original":{"line":78,"column":39},"generated":{"line":1,"column":656}},{"source":"modules/modal-video.js","name":"event","original":{"line":89,"column":12},"generated":{"line":1,"column":659}},{"source":"modules/modal-video.js","name":"videoOverlay","original":{"line":79,"column":4},"generated":{"line":1,"column":666}},{"source":"modules/modal-video.js","name":"$","original":{"line":79,"column":19},"generated":{"line":1,"column":668}},{"source":"modules/modal-video.js","original":{"line":79,"column":21},"generated":{"line":1,"column":670}},{"source":"modules/modal-video.js","name":"event","original":{"line":89,"column":12},"generated":{"line":1,"column":688}},{"source":"modules/modal-video.js","name":"data","original":{"line":89,"column":18},"generated":{"line":1,"column":690}},{"source":"modules/modal-video.js","name":"YT","original":{"line":90,"column":11},"generated":{"line":1,"column":696}},{"source":"modules/modal-video.js","name":"YT","original":{"line":90,"column":11},"generated":{"line":1,"column":701}},{"source":"modules/modal-video.js","name":"PlayerState","original":{"line":90,"column":14},"generated":{"line":1,"column":704}},{"source":"modules/modal-video.js","name":"PAUSED","original":{"line":90,"column":26},"generated":{"line":1,"column":716}},{"source":"modules/modal-video.js","name":"YT","original":{"line":93,"column":11},"generated":{"line":1,"column":723}},{"source":"modules/modal-video.js","name":"YT","original":{"line":93,"column":11},"generated":{"line":1,"column":728}},{"source":"modules/modal-video.js","name":"PlayerState","original":{"line":93,"column":14},"generated":{"line":1,"column":731}},{"source":"modules/modal-video.js","name":"PLAYING","original":{"line":93,"column":26},"generated":{"line":1,"column":743}},{"source":"modules/modal-video.js","original":{"line":94,"column":8},"generated":{"line":1,"column":751}},{"source":"modules/modal-video.js","name":"YT","original":{"line":96,"column":11},"generated":{"line":1,"column":757}},{"source":"modules/modal-video.js","name":"YT","original":{"line":96,"column":11},"generated":{"line":1,"column":762}},{"source":"modules/modal-video.js","name":"PlayerState","original":{"line":96,"column":14},"generated":{"line":1,"column":765}},{"source":"modules/modal-video.js","name":"ENDED","original":{"line":96,"column":26},"generated":{"line":1,"column":777}},{"source":"modules/modal-video.js","name":"videoOverlay","original":{"line":97,"column":8},"generated":{"line":1,"column":783}},{"source":"modules/modal-video.js","name":"fadeOut","original":{"line":97,"column":21},"generated":{"line":1,"column":785}},{"source":"modules/modal-video.js","original":{"line":98,"column":8},"generated":{"line":1,"column":795}},{"source":"modules/modal-video.js","name":"YT","original":{"line":100,"column":11},"generated":{"line":1,"column":801}},{"source":"modules/modal-video.js","name":"YT","original":{"line":100,"column":11},"generated":{"line":1,"column":806}},{"source":"modules/modal-video.js","name":"PlayerState","original":{"line":100,"column":14},"generated":{"line":1,"column":809}},{"source":"modules/modal-video.js","name":"CUED","original":{"line":100,"column":26},"generated":{"line":1,"column":821}},{"source":"modules/modal-video.js","original":{"line":157,"column":9},"generated":{"line":1,"column":829}},{"source":"modules/modal-video.js","original":{"line":157,"column":9},"generated":{"line":1,"column":835}},{"source":"modules/modal-video.js","name":"init","original":{"line":158,"column":4},"generated":{"line":1,"column":836}},{"source":"modules/modal-video.js","original":{"line":107,"column":15},"generated":{"line":1,"column":841}},{"source":"modules/modal-video.js","name":"$","original":{"line":109,"column":9},"generated":{"line":1,"column":852}},{"source":"modules/modal-video.js","original":{"line":109,"column":11},"generated":{"line":1,"column":854}},{"source":"modules/modal-video.js","name":"window","original":{"line":115,"column":4},"generated":{"line":1,"column":876}},{"source":"modules/modal-video.js","name":"videoAPIReady","original":{"line":115,"column":11},"generated":{"line":1,"column":883}},{"source":"modules/modal-video.js","name":"then","original":{"line":115,"column":25},"generated":{"line":1,"column":897}},{"source":"modules/modal-video.js","original":{"line":115,"column":30},"generated":{"line":1,"column":902}},{"source":"modules/modal-video.js","name":"$","original":{"line":117,"column":6},"generated":{"line":1,"column":913}},{"source":"modules/modal-video.js","original":{"line":117,"column":8},"generated":{"line":1,"column":915}},{"source":"modules/modal-video.js","name":"append","original":{"line":117,"column":16},"generated":{"line":1,"column":923}},{"source":"modules/modal-video.js","original":{"line":117,"column":6},"generated":{"line":1,"column":930}},{"source":"modules/modal-video.js","name":"videoOverlay","original":{"line":128,"column":6},"generated":{"line":1,"column":1256}},{"source":"modules/modal-video.js","name":"$","original":{"line":128,"column":21},"generated":{"line":1,"column":1258}},{"source":"modules/modal-video.js","original":{"line":128,"column":23},"generated":{"line":1,"column":1260}},{"source":"modules/modal-video.js","name":"videoID","original":{"line":129,"column":12},"generated":{"line":1,"column":1278}},{"source":"modules/modal-video.js","name":"videoID","original":{"line":129,"column":12},"generated":{"line":1,"column":1282}},{"source":"modules/modal-video.js","name":"modalVideoTriggers","original":{"line":129,"column":22},"generated":{"line":1,"column":1284}},{"source":"modules/modal-video.js","name":"eq","original":{"line":129,"column":41},"generated":{"line":1,"column":1286}},{"source":"modules/modal-video.js","original":{"line":129,"column":44},"generated":{"line":1,"column":1289}},{"source":"modules/modal-video.js","name":"data","original":{"line":129,"column":47},"generated":{"line":1,"column":1292}},{"source":"modules/modal-video.js","original":{"line":129,"column":52},"generated":{"line":1,"column":1297}},{"source":"modules/modal-video.js","name":"playerVars","original":{"line":134,"column":12},"generated":{"line":1,"column":1308}},{"source":"modules/modal-video.js","original":{"line":134,"column":25},"generated":{"line":1,"column":1310}},{"source":"modules/modal-video.js","name":"autoplay","original":{"line":135,"column":8},"generated":{"line":1,"column":1311}},{"source":"modules/modal-video.js","original":{"line":135,"column":18},"generated":{"line":1,"column":1320}},{"source":"modules/modal-video.js","name":"controls","original":{"line":138,"column":8},"generated":{"line":1,"column":1322}},{"source":"modules/modal-video.js","original":{"line":138,"column":18},"generated":{"line":1,"column":1331}},{"source":"modules/modal-video.js","name":"enablejsapi","original":{"line":139,"column":8},"generated":{"line":1,"column":1333}},{"source":"modules/modal-video.js","original":{"line":139,"column":21},"generated":{"line":1,"column":1345}},{"source":"modules/modal-video.js","name":"wmode","original":{"line":140,"column":8},"generated":{"line":1,"column":1347}},{"source":"modules/modal-video.js","original":{"line":140,"column":15},"generated":{"line":1,"column":1353}},{"source":"modules/modal-video.js","name":"origin","original":{"line":141,"column":8},"generated":{"line":1,"column":1362}},{"source":"modules/modal-video.js","name":"window","original":{"line":141,"column":16},"generated":{"line":1,"column":1369}},{"source":"modules/modal-video.js","name":"location","original":{"line":141,"column":23},"generated":{"line":1,"column":1376}},{"source":"modules/modal-video.js","name":"origin","original":{"line":141,"column":32},"generated":{"line":1,"column":1385}},{"source":"modules/modal-video.js","name":"rel","original":{"line":142,"column":8},"generated":{"line":1,"column":1392}},{"source":"modules/modal-video.js","original":{"line":142,"column":13},"generated":{"line":1,"column":1396}},{"source":"modules/modal-video.js","name":"player","original":{"line":146,"column":6},"generated":{"line":1,"column":1399}},{"source":"modules/modal-video.js","original":{"line":146,"column":15},"generated":{"line":1,"column":1401}},{"source":"modules/modal-video.js","name":"YT","original":{"line":146,"column":19},"generated":{"line":1,"column":1405}},{"source":"modules/modal-video.js","name":"Player","original":{"line":146,"column":22},"generated":{"line":1,"column":1408}},{"source":"modules/modal-video.js","original":{"line":146,"column":29},"generated":{"line":1,"column":1415}},{"source":"modules/modal-video.js","original":{"line":146,"column":40},"generated":{"line":1,"column":1425}},{"source":"modules/modal-video.js","name":"videoId","original":{"line":147,"column":8},"generated":{"line":1,"column":1426}},{"source":"modules/modal-video.js","name":"videoID","original":{"line":147,"column":17},"generated":{"line":1,"column":1434}},{"source":"modules/modal-video.js","name":"playerVars","original":{"line":148,"column":8},"generated":{"line":1,"column":1436}},{"source":"modules/modal-video.js","name":"playerVars","original":{"line":148,"column":8},"generated":{"line":1,"column":1447}},{"source":"modules/modal-video.js","name":"events","original":{"line":149,"column":8},"generated":{"line":1,"column":1449}},{"source":"modules/modal-video.js","original":{"line":149,"column":16},"generated":{"line":1,"column":1456}},{"source":"modules/modal-video.js","name":"onReady","original":{"line":150,"column":10},"generated":{"line":1,"column":1457}},{"source":"modules/modal-video.js","name":"initVideoLinks","original":{"line":150,"column":19},"generated":{"line":1,"column":1465}},{"source":"modules/modal-video.js","name":"onStateChange","original":{"line":151,"column":10},"generated":{"line":1,"column":1467}},{"source":"modules/modal-video.js","name":"onPlayerStateChange","original":{"line":151,"column":25},"generated":{"line":1,"column":1481}},{"source":"modules/modal-video.js","original":{"line":15,"column":20},"generated":{"line":1,"column":1490}},{"source":"modules/modal-video.js","name":"jQuery","original":{"line":160,"column":3},"generated":{"line":1,"column":1491}},{"source":"modules/modal-video.js","name":"modalVideo","original":{"line":162,"column":15},"generated":{"line":1,"column":1499}},{"source":"modules/modal-video.js","name":"modalVideo","original":{"line":162,"column":15},"generated":{"line":1,"column":1501}},{"source":"modules/modal-video.js","name":"modalVideo","original":{"line":162,"column":15},"generated":{"line":1,"column":1503}},{"source":"modules/modal-video.js","name":"modalVideo","original":{"line":162,"column":15},"generated":{"line":1,"column":1511}},{"source":"modules/modal-video.js","name":"modalVideo","original":{"line":162,"column":15},"generated":{"line":1,"column":1519}}],"sources":{"modules/modal-video.js":"// reference: https://developers.google.com/youtube/iframe_api_reference\n// useful tutorial: https://tutorialzine.com/2015/08/how-to-control-youtubes-video-player-with-javascript\n\n// implements the YouTube iFrame API to display multiple videos - one-at-the-time - in a modal overlay.\n// page must have video links \n// page may have multiple video links \"<a class=\"modal-video\" data-video-link=\"https://youtu.be/30sorJ54rdM\" data-video-id=\"30sorJ54rdM\"  data-video-attr=\"\" disabled>Test Video Link 1</a>\"\n// initially, video links do not have \"href\" attribute but have attribute \"disabled\"\n// once the api has been loaded and is ready to play videos, all links are activated by adding \"href\" attribute and removing \"disabled\" attribute\n// the video object is given the first videoID. Videos will be played, after the overlay is active, by calling either videoPlay() when the video has been loaded\n// or by loadVideoById() when a new video is requested\n// when closing the overlay, the video sound is faded out prior to videoPause(). Do not use videoStop() as that produces strange transitions, e.g. before a\n// new video starts, a few frames of the prior video might be visible. API docs recommend to use videoPause().\n\n\nconst modalVideo = (function($, undefined) {\n  const modalVideoTriggers = $('.js-modal-video');\n  let player;\n  let videoOverlay;\n\n  // initialize all video links when the player is ready\n  const initVideoLinks = function() {\n    videoOverlay = $('#video-overlay');\n    const closeVideoOverlay = videoOverlay.find('.icon-close');\n\n    modalVideoTriggers.each(function() {\n      const thisTrigger = $(this);\n      const requestedVideoID = thisTrigger.data('videoid');\n      //const startTime = thisTrigger.data('start-time');\n      //const endTime = thisTrigger.data('end-time');\n\n      // turn data-video-link into a href attribute and remove disabled attribute\n      //thisTrigger\n      //  .attr('href', thisTrigger.data('video-link'))\n      //  .removeAttr('data-video-link')\n      //  .removeAttr('disabled');\n\n      thisTrigger.on('click', e => {\n        e.preventDefault();\n        e.stopPropagation();\n        videoOverlay.fadeIn(400);\n        $('body').addClass('modalActive');\n\n        // load the appropriate video ID\n        // if the requested videoID is equal to what the player has already loaded\n        // then just play the video else load the new video and then play it\n        if (requestedVideoID === player.getVideoEmbedCode()) {\n          player.playVideo();\n        } else {\n          player.loadVideoById({\n            videoId: requestedVideoID,\n            //startSeconds: startTime || null,\n            //endSeconds: endTime || null,\n          });\n        }\n        // we might have muted a previous video. set the default level\n        player.setVolume(50);\n      });\n    });\n\n    closeVideoOverlay.on('click', () => {\n      // fadeout sound as we close the overlay\n      let currentVolume = player.getVolume();\n      const fadeout = setInterval(() => {\n        if (currentVolume <= 0) {\n          // use pauseVideo rather than stopVideo to minimize\n          // previous video flashes when starting the new video\n          player.pauseVideo();\n          clearInterval(fadeout);\n        }\n        currentVolume -= 5;\n        player.setVolume(currentVolume);\n      }, 100);\n      videoOverlay.fadeOut();\n      $('body').removeClass('modalActive');\n    });\n  };\n\n  const onPlayerStateChange = function(event) {\n    videoOverlay = $('#video-overlay');\n\n    // player states\n    // \"unstarted\"               = -1\n    // YT.PlayerState.ENDED      =  0\n    // YT.PlayerState.PLAYING    =  1\n    // YT.PlayerState.PAUSED     =  2\n    // YT.PlayerState.BUFFERING  =  3\n    // YT.PlayerState.CUED       =  5\n\n    switch (event.data) {\n      case YT.PlayerState.PAUSED:\n        break;\n\n      case YT.PlayerState.PLAYING:\n        break;\n\n      case YT.PlayerState.ENDED:\n        videoOverlay.fadeOut();\n        break;\n\n      case YT.PlayerState.CUED:\n        break;\n\n      default:\n    }\n  };\n\n  const init = function() {\n    // if no video trigger links on page return\n    if (!$('.js-video-trigger')) {\n      return;\n    }\n\n    // initialize all video players on a page\n    // videoAPIReady is a defered jQuery object for when the Youtube API has been loaded\n    window.videoAPIReady.then(() => {\n      // create an video overlay\n      $('body').append(`\n        <div id=\"video-overlay\" class=\"js-video-overlay\">\n            <span class=\"icon icon-close\">CLOSE</span>\n            <div class=\"responsive-wrapper\">\n                <div class=\"video-container\">\n                    <div id=\"ytvideo\"></div>\n                </div>\n            </div>\n        </div>\n      `);\n\n      videoOverlay = $('#video-overlay');\n      const videoID = modalVideoTriggers.eq(0).data('videoid'); // the first video link\n      //const startTime = modalVideoTriggers.eq(0).data('start-time');\n      //const endTime = modalVideoTriggers.eq(0).data('end-time');\n\n      // reference https://developers.google.com/youtube/player_parameters?playerVersion=HTML5\n      const playerVars = {\n        autoplay: 0,\n        //start: startTime || null, // if no start or end time is specified go trom 0 to end\n        //end: endTime || null, // start/stop via js commands\n        controls: 0, // show video controls\n        enablejsapi: 1, // enable the js api so we can control then player with js\n        wmode: 'opaque', // allow other elements to cover video, e.g. dropdowns or pop-ups\n        origin: window.location.origin, // prevent \"Failed to execute 'postMessage' on 'DOMWindow'\" error\n        rel: 0, // disable other video suggestions after video end\n      };\n\n      // create the video player object\n      player = new YT.Player('ytvideo', {\n        videoId: videoID,\n        playerVars,\n        events: {\n          onReady: initVideoLinks,\n          onStateChange: onPlayerStateChange,\n        },\n      });\n    });\n  };\n\n  return {\n    init,\n  };\n})(jQuery);\n\nexport default modalVideo;"},"lineCount":null}},"error":null,"hash":"30215240c1d88bf2a3bc86cf54c60cff","cacheData":{"env":{}}}